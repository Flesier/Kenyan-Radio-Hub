export type Segment = {
  station: string;
  frequency: string;
  show: string;
  type: string;
  genre: string;
  description: string;
  link: string;
  time: string;
};

export const segments: Segment[] = [
  {
    station: "Capital FM",
    frequency: "98.4",
    show: "Quiet strom",
    type: "Music mix",
    genre: "Gospel",
    description: "",
    link: "https://atunwadigital.streamguys1.com/capitalfm",
    time: "5am-6am weekdays"
  },
  {
    station: "Capital FM",
    frequency: "98.4",
    show: "Radio active",
    type: "Music mix",
    genre: "Contemporary",
    description: "",
    link: "https://atunwadigital.streamguys1.com/capitalfm",
    time: "2pm-3pm weekdays"
  },
  {
    station: "Capital FM",
    frequency: "98.4",
    show: "The Cypher",
    type: "Music mix",
    genre: "Hiphop",
    description: "",
    link: "https://atunwadigital.streamguys1.com/capitalfm",
    time: "5pm-7pm Saturdays"
  },
  {
    station: "Capital FM",
    frequency: "98.4",
    show: "OneLove",
    type: "Music mix",
    genre: "Roots&Reggae",
    description: "",
    link: "https://atunwadigital.streamguys1.com/capitalfm",
    time: "5pm-7pm Sundays"
  },
  {
    station: "Classic 105",
    frequency: "105.2",
    show: "Classic Mid Morning",
    type: "Music mix",
    genre: "Afro-pop",
    description: "",
    link: "https://atunwadigital.streamguys1.com/classic105",
    time: "10am-3pm weekdays"
  },
  {
    station: "Kiss FM",
    frequency: "100.3",
    show: "Kiss Drive",
    type: "Music mix",
    genre: "Pop",
    description: "",
    link: "https://atunwadigital.streamguys1.com/kiss100fm",
    time: "3pm-7pm weekdays"
  },
  {
    station: "Kiss FM",
    frequency: "100.3",
    show: "Maloko",
    type: "Music mix",
    genre: "Local music",
    description: "",
    link: "https://atunwadigital.streamguys1.com/kiss100fm",
    time: "7pm-12am weekdays"
  },
  {
    station: "Kiss FM",
    frequency: "100.3",
    show: "Late Night Kiss",
    type: "Music Mix",
    genre: "Pop",
    description: "",
    link: "https://kiss100fm-atunwadigital.streamguys1.com/kiss100fm",
    time: "12am-6am weekdays"
  },
  {
    station: "Kiss FM",
    frequency: "100.3",
    show: "Mid Morning Kiss",
    type: "Music Mix",
    genre: "Pop",
    description: "",
    link: "https://atunwadigital.streamguys1.com/kiss100fm",
    time: "10am-3pm weekdays"
  },
  {
    station: "Radio Citizen",
    frequency: "106.7",
    show: "Citizen Express",
    type: "Music Mix",
    genre: "Zilizopendwa",
    description: "",
    link: "https://radiocitizen-atunwadigital.streamguys1.com/radiocitizen",
    time: "12am-4am weekdays"
  },
  {
    station: "Radio Citizen",
    frequency: "106.7",
    show: "Pambazuka",
    type: "Music Mix",
    genre: "Gospel",
    description: "",
    link: "https://radiocitizen-atunwadigital.streamguys1.com/radiocitizen",
    time: "4am-6am weekdays"
  },
  {
    station: "Radio Citizen",
    frequency: "106.7",
    show: "Mambo Mseto",
    type: "Music Mix",
    genre: "East Africa Pop",
    description: "",
    link: "https://radiocitizen-atunwadigital.streamguys1.com/radiocitizen",
    time: "1pm-4pm weekdays"
  },
  {
    station: "Classic 105",
    frequency: "105.2",
    show: "Classic Overnight",
    type: "Music Mix",
    genre: "African pop",
    description: "",
    link: "https://atunwadigital.streamguys1.com/classic105",
    time: "12am-6am weekdays"
  },
  {
    station: "Classic 105",
    frequency: "105.2",
    show: "Classic Drive",
    type: "Music Mix",
    genre: "Urban/Pop",
    description: "",
    link: "https://atunwadigital.streamguys1.com/classic105",
    time: "3pm-7pm weekdays"
  },
  {
    station: "Homeboyz",
    frequency: "103.5",
    show: "Homeboyz Overnights",
    type: "Music Mix",
    genre: "Contemporary",
    description: "",
    link: "https://atunwadigital.streamguys1.com/homeboyzradio",
    time: "12am-6am weekdays"
  },
  {
    station: "Homeboyz",
    frequency: "103.5",
    show: "Jam session",
    type: "Music Mix",
    genre: "Urban/HipHop",
    description: "",
    link: "https://atunwadigital.streamguys1.com/homeboyzradio",
    time: "10am-3pm weekdays"
  },
  {
    station: "Homeboyz",
    frequency: "103.5",
    show: "HBR Mtaani",
    type: "Music Mix",
    genre: "Local music/Urban",
    description: "",
    link: "https://atunwadigital.streamguys1.com/homeboyzradio",
    time: "7pm-12am weekdays"
  },
  {
    station: "NRG",
    frequency: "97.1",
    show: "NRG in the mix",
    type: "Music Mix",
    genre: "Contemporary",
    description: "",
    link: "https://uksouth.streaming.broadcast.radio/nrg",
    time: "11pm-7am weekdays"
  },
  {
    station: "NRG",
    frequency: "97.1",
    show: "AM Request Show",
    type: "Music Mix",
    genre: "Hiphop/Urban",
    description: "",
    link: "https://uksouth.streaming.broadcast.radio/nrg",
    time: "11am-2pm weekdays"
  },
  {
    station: "NRG",
    frequency: "97.1",
    show: "Kalonje On NRG",
    type: "Music Mix",
    genre: "Urban Mix",
    description: "",
    link: "https://uksouth.streaming.broadcast.radio/nrg",
    time: "2pm-4pm weekdays"
  },
  {
    station: "NRG",
    frequency: "97.1",
    show: "NRG transit",
    type: "Music Mix",
    genre: "Contemporary/urban",
    description: "",
    link: "https://uksouth.streaming.broadcast.radio/nrg",
    time: "4pm-8pm weekdays"
  },
  {
    station: "Nation FM",
    frequency: "96.3",
    show: "Request Hour",
    type: "Music Mix",
    genre: "Contemporary",
    description: "",
    link: "https://cdn.pixabay.com/download/audio/2023/10/27/audio_8ab11e07a4.mp3",
    time: "12pm-1pm weekdays"
  },
  {
    station: "Nation FM",
    frequency: "96.3",
    show: "NFM Drive",
    type: "Music Mix",
    genre: "Contemporary",
    description: "",
    link: "https://stream.radiojar.com/3by7s8eg65quv",
    time: "3pm-7pm weekdays"
  },
  {
    station: "Milele FM",
    frequency: "104.8",
    show: "Milele Midmorning",
    type: "Music Mix",
    genre: "EA local",
    description: "",
    link: "https://milelefm-atunwadigital.streamguys1.com/milelefm",
    time: "10am-2pm weekdays"
  },
  {
    station: "Smooth Fm",
    frequency: "105.5",
    show: "Smooth Morning",
    type: "Music Mix",
    genre: "Pop/Classic/Rock",
    description: "",
    link: "https://atunwadigital.streamguys1.com/smoothfm",
    time: "All day"
  },
  {
    station: "Family FM",
    frequency: "103.9",
    show: "",
    type: "Music Mix",
    genre: "Christian/Worship",
    description: "",
    link: "https://uksoutha.streaming.broadcast.radio/familyradio",
    time: "All day"
  },
  {
    station: "Truth FM",
    frequency: "90.7",
    show: "Gospel Switch",
    type: "Music Mix",
    genre: "Christian/Worship",
    description: "",
    link: "https://truthfm-atunwadigital.streamguys1.com/truthfm",
    time: "1pm-4pm weekdays"
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Baze 47",
    type: "Music Mix",
    genre: "Urban Local",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: "1pm-3pm weekdays"
  },
  {
    station: "Ghetto Radio",
    frequency: "89.5",
    show: "Jahmrock doba",
    type: "Music Mix",
    genre: "Reggae",
    description: "",
    link: "https://stream.zeno.fm/eghcv7h647zuv.aac",
    time: "8pm-11pm weekdays"
  },
  {
    station: "Ghetto Radio",
    frequency: "89.5",
    show: "Unwind",
    type: "Music Mix",
    genre: "Pop/Urban",
    description: "",
    link: "https://stream.zeno.fm/eghcv7h647zuv.aac",
    time: "7pm-8pm weekdays"
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Breakfast 47",
    type: "Talk",
    genre: "Talk show",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: ""
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Rhumba Fix",
    type: "Music Mix",
    genre: "Rhumba",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: "10pm-12am Weekdays"
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Maskani 47",
    type: "Talk",
    genre: "Talk show",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: ""
  },
  {
    station: "Classic 105",
    frequency: "105.2",
    show: "Maina and King'angi'i",
    type: "Talk",
    genre: "Talk show",
    description: "",
    link: "https://atunwadigital.streamguys1.com/classic105",
    time: ""
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Mchikicho",
    type: "Talk",
    genre: "Talk show",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: ""
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Radio 47 Jumapili",
    type: "Music Mix",
    genre: "Christian",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: "5am-10am sundays"
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Gospel Automation",
    type: "Music Mix",
    genre: "Christian",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: "10am-1pm sundays"
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Kali za kale",
    type: "Music Mix",
    genre: "old school",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: "8pm-12am sundays"
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Sabato Yako",
    type: "Talk",
    genre: "Christian",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: "4am-6am saturdays"
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Bahari ya elimu",
    type: "Talk",
    genre: "Educative",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: "7am-11am saturdays"
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Sato Vibe",
    type: "Music mix",
    genre: "Urban",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: "11am-2pm saturdays"
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Dread Beat Reloaded",
    type: "Music mix",
    genre: "Urban/pop/local",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: "2pm-4pm saturdays"
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Mikiki ya Spoti",
    type: "Talk",
    genre: "sports",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: "4pm-8pm saturdays"
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Burdan satoo",
    type: "Musicmix/Talk",
    genre: "Bongo/local/afro",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: "8pm-12am saturdays"
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Nuru 47",
    type: "Musicmix/Talk",
    genre: "Talk show",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: ""
  },
  {
    station: "Radio 47",
    frequency: "103",
    show: "Chemba",
    type: "Talk",
    genre: "Talk show",
    description: "",
    link: "https://streaming.shoutcast.com/radio-47",
    time: "7pm-10pm weekdays"
  },
  {
    station: "Radio Jambo",
    frequency: "97.5",
    show: "Gidi na Ghost",
    type: "Talk",
    genre: "Talk show",
    description: "",
    link: "https://atunwadigital.streamguys1.com/radiojambo",
    time: "6am-10am weekdays"
  },
  {
    station: "HBR",
    frequency: "103.5",
    show: "The Boyz club",
    type: "Talk",
    genre: "Musicmix/Talk",
    description: "",
    link: "https://atunwadigital.streamguys1.com/homeboyzradio",
    time: "3pm-7pm Weekdays"
  },
  {
    station: "Classic 105",
    frequency: "105.2",
    show: "Classic Love",
    type: "Talk",
    genre: "Talk show",
    description: "",
    link: "https://atunwadigital.streamguys1.com/classic105",
    time: ""
  },
  {
    station: "Radio Citizen",
    frequency: "106.7",
    show: "Michezo na Burudani",
    type: "Talk/Music Mix",
    genre: "Musicmix/Talk",
    description: "",
    link: "https://radiocitizen-atunwadigital.streamguys1.com/radiocitizen",
    time: "4pm-9pm Saturdays"
  },
  {
    station: "Radio Citizen",
    frequency: "106.7",
    show: "Roga Roga",
    type: "Talk/Music Mix",
    genre: "Rhumba",
    description: "",
    link: "https://radiocitizen-atunwadigital.streamguys1.com/radiocitizen",
    time: "10am-1pm saturdays"
  },
  {
    station: "Radio Citizen",
    frequency: "106.7",
    show: "Sabato Takatifu",
    type: "Talk/Music Mix",
    genre: "Christian",
    description: "",
    link: "https://radiocitizen-atunwadigital.streamguys1.com/radiocitizen",
    time: "12am-6am saturdays"
  },
  {
    station: "Hot 96",
    frequency: "96",
    show: "Round 2",
    type: "Music Mix",
    genre: "Contemporary",
    description: "",
    link: "https://hot96-atunwadigital.streamguys1.com/hot96",
    time: "10am-12pm saturdays"
  },
  {
    station: "Classic 105",
    frequency: "105.2",
    show: "The Kick Off",
    type: "Music Mix",
    genre: "Urban",
    description: "",
    link: "https://atunwadigital.streamguys1.com/classic105",
    time: "7pm-12am saturdays"
  },
  {
    station: "Classic 105",
    frequency: "105.2",
    show: "Mike in the Morning",
    type: "Talk/Music Mix",
    genre: "Urban",
    description: "",
    link: "https://atunwadigital.streamguys1.com/classic105",
    time: "6am-10am saturdays"
  },
  {
    station: "HomeBoyz",
    frequency: "103.5",
    show: "Homeboyz overnight",
    type: "Music Mix",
    genre: "Urban",
    description: "",
    link: "https://atunwadigital.streamguys1.com/homeboyzradio",
    time: "8pm-12am fridays/saturdays"
  },
  {
    station: "Kiss FM",
    frequency: "100.3",
    show: "Hot 30 countdown",
    type: "Music Mix",
    genre: "Contemporary",
    description: "",
    link: "https://kiss100fm-atunwadigital.streamguys1.com/kiss100fm",
    time: "10am-3pm saturdays"
  },
  {
    station: "Kiss FM",
    frequency: "100.3",
    show: "The score",
    type: "Talk/Music Mix",
    genre: "Football",
    description: "",
    link: "https://kiss100fm-atunwadigital.streamguys1.com/kiss100fm",
    time: "3pm-7pm saturdays"
  },
  {
    station: "Kiss FM",
    frequency: "100.3",
    show: "Klub Kiss",
    type: "Music Mix",
    genre: "Urban/Contemporary",
    description: "",
    link: "https://kiss100fm-atunwadigital.streamguys1.com/kiss100fm",
    time: "7pm-12am saturdays"
  },
  {
    station: "Radio Jambo",
    frequency: "97.5",
    show: "Overnights",
    type: "Music Mix",
    genre: "Contemporary",
    description: "",
    link: "https://atunwadigital.streamguys1.com/radiojambo",
    time: "12am-7am saturdays"
  },
  {
    station: "NRG",
    frequency: "97.1",
    show: "Bang Bang",
    type: "Music Mix",
    genre: "Pop/Urban/Afro",
    description: "",
    link: "https://uksouth.streaming.broadcast.radio/nrg",
    time: "7am-12am saturdays"
  },
  {
    station: "Nation FM",
    frequency: "96.3",
    show: "Rhythm N Flow",
    type: "Music Mix",
    genre: "Reggae/Riddim",
    description: "",
    link: "https://stream.radiojar.com/3by7s8eg65quv",
    time: "6pm-12am saturdays"
  },
  {
    station: "Ghetto Radio",
    frequency: "89.5",
    show: "Mix",
    type: "Music Mix",
    genre: "Reggae/Riddim",
    description: "",
    link: "https://stream.zeno.fm/eghcv7h647zuv.aac",
    time: "6pm-12am saturdays"
  },
  {
    station: "Spice Fm",
    frequency: "94.4",
    show: "Play ground on spice",
    type: "Music Mix",
    genre: "classic music",
    description: "",
    link: "https://atunwapodcasts.com/player/spicefm.html",
    time: "2pm-12am saturdays"
  },
  {
    station: "Truth FM",
    frequency: "907",
    show: "Dating Clinic",
    type: "Talk/Music Mix",
    genre: "Christian",
    description: "",
    link: "https://truthfm-atunwadigital.streamguys1.com/truthfm",
    time: "3pm-6pm saturdays"
  },
  {
    station: "Classic 105",
    frequency: "105.2",
    show: "Classic sunday nights",
    type: "Music Mix",
    genre: "Afro-pop/urban/classics",
    description: "",
    link: "https://atunwadigital.streamguys1.com/classic105",
    time: "12am-6am sundays"
  },
  {
    station: "Radio Citizen",
    frequency: "106.7",
    show: "Pambazuka Jumapili",
    type: "Talk/Music Mix",
    genre: "Christian",
    description: "",
    link: "https://radiocitizen-atunwadigital.streamguys1.com/radiocitizen",
    time: "5am- 10am sundays"
  },
  {
    station: "Radio Citizen",
    frequency: "106.7",
    show: "Roga roga",
    type: "Talk/Music Mix",
    genre: "Rhumba/lingala",
    description: "",
    link: "https://radiocitizen-atunwadigital.streamguys1.com/radiocitizen",
    time: "10am-1pm sundays"
  },
  {
    station: "Radio Citizen",
    frequency: "106.7",
    show: "Wingu La Baraka",
    type: "Talk/Music Mix",
    genre: "Christian",
    description: "",
    link: "https://radiocitizen-atunwadigital.streamguys1.com/radiocitizen",
    time: "1pm - 4pm sundays"
  },
  {
    station: "HBR",
    frequency: "103.5",
    show: "Weekend Breakfast",
    type: "Music Mix",
    genre: "Urban",
    description: "",
    link: "https://atunwadigital.streamguys1.com/homeboyzradio",
    time: "12am-6am sundays"
  },
  {
    station: "HBR",
    frequency: "103.5",
    show: "Sunday Mornings",
    type: "Talk/Music Mix",
    genre: "Urban",
    description: "",
    link: "https://atunwadigital.streamguys1.com/homeboyzradio",
    time: "10am-3pm sundays"
  },
  {
    station: "HBR",
    frequency: "103.5",
    show: "sunday live",
    type: "Music Mix",
    genre: "Urban",
    description: "",
    link: "https://atunwadigital.streamguys1.com/homeboyzradio",
    time: "3pm-7pm sundays"
  },
  {
    station: "HBR",
    frequency: "103.5",
    show: "Mystic sunset chart",
    type: "Music Mix",
    genre: "Urban/Pop",
    description: "",
    link: "https://atunwadigital.streamguys1.com/homeboyzradio",
    time: "7pm-10pm sundays"
  },
  {
    station: "HBr",
    frequency: "103.5",
    show: "Homeboyz overnight",
    type: "Music Mix",
    genre: "Urban",
    description: "",
    link: "https://atunwadigital.streamguys1.com/homeboyzradio",
    time: "10pm-12am sundays"
  },
  {
    station: "Radio Maisha",
    frequency: "102.7",
    show: "Shangwe",
    type: "Music Mix",
    genre: "Christian",
    description: "",
    link: "https://stream-140.zeno.fm/etpprqerqy5tv?zt=eyJhbGciOiJIUzI1NiJ9.eyJzdHJlYW0iOiJldHBwcnFlcnF5NXR2IiwiaG9zdCI6InN0cmVhbS0xNDAuemVuby5mbSIsInJ0dGwiOjUsImp0aSI6Im5FYTZJWWxXU1NHam4yMDBMV28zTkEiLCJpYXQiOjE3NDU3MDMwNDUsImV4cCI6MTc0NTcwMzEwNX0.fV6sbPc3Ds6YIfstJY2rHCZlzdAcawnYBBrj45ldMCM",
    time: "6am-10am sundays"
  },
  {
    station: "NRG",
    frequency: "97.1",
    show: "NRG soul garage",
    type: "Music Mix",
    genre: "classis/soul",
    description: "",
    link: "https://uksouth.streaming.broadcast.radio/nrg",
    time: "2pm-5pm sundays"
  },
  {
    station: "NRG",
    frequency: "97.1",
    show: "Praise Party",
    type: "Music Mix",
    genre: "Christiian",
    description: "",
    link: "https://uksouth.streaming.broadcast.radio/nrg",
    time: "7pm -9pm sundays"
  }
];

// Extract unique genres from segments
export const genres = Array.from(new Set(segments.map(segment => segment.genre)));

// Extract unique stations
export const stations = Array.from(
  new Set(segments.map(segment => segment.station))
).map(stationName => {
  const stationSegments = segments.filter(segment => segment.station === stationName);
  return {
    name: stationName,
    frequency: stationSegments[0]?.frequency || "",
    link: stationSegments[0]?.link || "",
  };
});

// Parse time string to determine if a segment is currently playing
export function isCurrentlyPlaying(timeString: string): boolean {
  if (!timeString || timeString === "") return false;
  if (timeString === "All day") return true;

  const now = new Date();
  const currentDay = now.getDay(); // 0 = Sunday, 1 = Monday, etc.
  const currentHour = now.getHours();
  const currentMinute = now.getMinutes();

  // Check if it's a weekday (Monday to Friday)
  const isWeekday = currentDay >= 1 && currentDay <= 5;
  // Check if it's a weekend
  const isSaturday = currentDay === 6;
  const isSunday = currentDay === 0;

  // Parse the time string to extract day and time information
  const isWeekdayShow = timeString.toLowerCase().includes("weekdays");
  const isSaturdayShow = timeString.toLowerCase().includes("saturdays");
  const isSundayShow = timeString.toLowerCase().includes("sundays");
  const isFridaySaturdayShow = timeString.toLowerCase().includes("fridays/saturdays");

  // If day doesn't match, return false
  if (
    (isWeekdayShow && !isWeekday) ||
    (isSaturdayShow && !isSaturday) ||
    (isSundayShow && !isSunday) ||
    (isFridaySaturdayShow && !(currentDay === 5 || currentDay === 6))
  ) {
    return false;
  }

  // Extract time range from the string
  let timeRange = timeString.split(" ")[0];
  if (!timeRange.includes("-") && !timeRange.includes("All day")) {
    return false;
  }

  if (timeRange === "All day") {
    return true;
  }

  const [startTimeStr, endTimeStr] = timeRange.split("-");

  // Parse start time
  const startHour = parseInt(startTimeStr.includes("am") || startTimeStr.includes("pm")
    ? startTimeStr.replace(/am|pm/g, "")
    : startTimeStr.split(":")[0]);
  const startMinute = startTimeStr.includes(":") ? parseInt(startTimeStr.split(":")[1]) : 0;
  const startIsPM = startTimeStr.includes("pm") && startHour !== 12;
  const normalizedStartHour = startIsPM ? startHour + 12 : startHour === 12 && !startIsPM ? 0 : startHour;

  // Parse end time
  const endHour = parseInt(endTimeStr.includes("am") || endTimeStr.includes("pm")
    ? endTimeStr.replace(/am|pm/g, "")
    : endTimeStr.split(":")[0]);
  const endMinute = endTimeStr.includes(":") ? parseInt(endTimeStr.split(":")[1]) : 0;
  const endIsPM = endTimeStr.includes("pm") && endHour !== 12;
  const normalizedEndHour = endIsPM ? endHour + 12 : endHour === 12 && !endIsPM ? 0 : endHour;

  // Convert to total minutes for easier comparison
  const currentTotalMinutes = currentHour * 60 + currentMinute;
  const startTotalMinutes = normalizedStartHour * 60 + startMinute;
  const endTotalMinutes = normalizedEndHour * 60 + endMinute;

  // Check if current time is within the range
  // Handle cases where the show runs overnight
  if (startTotalMinutes > endTotalMinutes) {
    return currentTotalMinutes >= startTotalMinutes || currentTotalMinutes <= endTotalMinutes;
  } else {
    return currentTotalMinutes >= startTotalMinutes && currentTotalMinutes <= endTotalMinutes;
  }
}

// Get all currently playing segments
export function getCurrentlyPlayingSegments(): Segment[] {
  return segments.filter(segment => isCurrentlyPlaying(segment.time));
}
